(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function a(t,e,n,c,r){const o=document.createElement(t);if(e&&(o.textContent=e),n&&o.classList.add(n),t==="input"){const i=document.createElement("div");return o.placeholder=c,i.appendChild(o),i}if(t==="img"){const i=document.createElement("img");return i.src=r,i.appendChild(o),i}return o}function g(){const t=document.createElement("header"),e=a("img",null,"logo",null,"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_2-d537fb228cf3ded904ef09b136fe3fec72548ebc1fea3fbbd1ad9e36364db38b.svg");t.appendChild(e);const n=document.createElement("ul");return n.classList.add("links"),["Movies","TV Shows"].forEach(r=>{const o=document.createElement("li");o.textContent=r,n.appendChild(o)}),t.appendChild(n),t}function v(t){return{method:t,headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1MmQzNjkxZWE3YzRmMjkxMGE4ZGQ3NzNkMDUzOTVmYiIsInN1YiI6IjY1NWVjMzNiMmIxMTNkMDBjYTRmMjYxMiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.GlFCmKE2ElUucxtGXOol4KW7rCVHOQOUFiR6B2Z4rOw"}}}async function l(t){try{const e=await fetch(t,v("GET"));if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return(await e.json()).results}catch(e){console.error("Error fetching data: ",e)}}function p(t,e,n,c,r){const o=a("div",null,"card");o.setAttribute("data-id",t);const i=a("img");i.src="https://image.tmdb.org/t/p/original/"+e,i.alt=`Poster of ${n}`,i.classList.add("image"),o.appendChild(i);const h=a("h3",n,"title");o.appendChild(h);const m=a("p",c,"overview");o.appendChild(m);const f=a("p",`Rating: ${r}`,"rating");return o.appendChild(f),o}async function y(){const t=await l("https://api.themoviedb.org/3/movie/popular"),e=document.createElement("div");return e.classList.add("popular-cards"),t.forEach(n=>{e.appendChild(p(n.id,n.poster_path,n.original_title,n.overview,n.vote_average))}),e}async function C(){const t=document.createElement("div");t.classList.add("popular"),t.appendChild(a("h1","Popular Movies"));const e=await y();return t.appendChild(e),t}async function b(){const t=await l("https://api.themoviedb.org/3/tv/popular"),e=document.createElement("div");return e.classList.add("popular-cards"),t.forEach(n=>{e.appendChild(p(n.id,n.poster_path,n.original_name,n.overview,n.vote_average))}),e}async function E(){const t=document.createElement("div");t.classList.add("popular"),t.appendChild(a("h1","Popular TV Shows"));const e=await b();return t.appendChild(e),t}function d(){const t=document.createElement("footer"),e=a("a","My GitHub Repository","github-link");e.href="https://github.com/JohnBadri/fetch-movie",e.target="_blank";const n=a("img",null,"github-icon",null,"https://cdn-icons-png.flaticon.com/512/25/25231.png");return t.appendChild(n),t.appendChild(e),t}const s=document.querySelector("#app"),u=async function(){const e=await C();s.appendChild(e)},M=async function(){const e=await E();s.appendChild(e)};s.appendChild(g());u().then(()=>s.appendChild(d()));s.addEventListener("click",t=>{const e=document.querySelector(".popular"),n=document.querySelector("footer");if(t.target.tagName==="LI")switch(t.target.textContent){case"Movies":e.remove(),n.remove(),u().then(()=>s.appendChild(d()));break;case"TV Shows":e.remove(),n.remove(),M().then(()=>s.appendChild(d()));break}});
